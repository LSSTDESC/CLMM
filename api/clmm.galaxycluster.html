<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>clmm.galaxycluster module &mdash; CLMM 1.10.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=1d24b1d9"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="clmm.gcdata module" href="clmm.gcdata.html" />
    <link rel="prev" title="clmm.dataops package" href="clmm.dataops.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            CLMM
          </a>
              <div class="version">
                1.10.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../source/overview.html">Rapid overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../source/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../source/citing.html">Using and citing CLMM</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Usage Demos</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../compiled-examples/demo_mock_cluster.html">Generate mock data for a cluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compiled-examples/demo_dataops_functionality.html">Measure WL Profiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compiled-examples/demo_theory_functionality.html">Model WL Profiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compiled-examples/demo_mock_ensemble.html">Generate mock data for a cluster ensemble</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compiled-examples/data_and_model_demo_DC2.html">Using the cosmoDC2 catalog</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Mass Fitting Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../compiled-examples/Example1_Fit_Halo_Mass_to_Shear_Catalog.html">Example 1: Ideal data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compiled-examples/Example1_Fit_shear_profile_with_miscentering.html">Example 1b: Impact of miscentering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compiled-examples/Example2_Fit_Halo_Mass_to_Shear_Catalog.html">Example 2: Realistic data and wrong model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compiled-examples/Example3_Fit_Halo_Mass_to_Shear_Catalog.html">Example 3: Account for the n(z) of sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compiled-examples/Example4_Fit_Halo_mass_to_HSC_data.html">Example 4: Using a real dataset (HSC)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compiled-examples/Example5_Fit_Halo_mass_to_DES_data.html">Example 5: Using a real datasets (DES)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../compiled-examples/demo_theory_functionality_diff_z_types.html">Model WL Profiles (different redshift inputs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compiled-examples/demo_theory_functionality_oo.html">Model WL Profiles (Object Oriented)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compiled-examples/demo_boost_factors.html">Boost factors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compiled-examples/demo_compute_deltasigma_weights.html">Weak lensing weights</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compiled-examples/demo_mass_conversion.html">Mass conversion between different mass definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compiled-examples/demo_mock_ensemble_realistic.html">Generate “realistic” mock data for a cluster ensemble</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="clmm.clusterensemble.html">clmm.clusterensemble module</a></li>
<li class="toctree-l2"><a class="reference internal" href="clmm.constants.html">clmm.constants module</a></li>
<li class="toctree-l2"><a class="reference internal" href="clmm.cosmology.html">clmm.cosmology package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="clmm.cosmology.ccl.html">clmm.cosmology.ccl module</a></li>
<li class="toctree-l3"><a class="reference internal" href="clmm.cosmology.cluster_toolkit.html">clmm.cosmology.cluster_toolkit module</a></li>
<li class="toctree-l3"><a class="reference internal" href="clmm.cosmology.numcosmo.html">clmm.cosmology.numcosmo module</a></li>
<li class="toctree-l3"><a class="reference internal" href="clmm.cosmology.parent_class.html">clmm.cosmology.parent_class module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="clmm.dataops.html">clmm.dataops package</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">clmm.galaxycluster module</a></li>
<li class="toctree-l2"><a class="reference internal" href="clmm.gcdata.html">clmm.gcdata module</a></li>
<li class="toctree-l2"><a class="reference internal" href="clmm.redshift.html">clmm.redshift package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="clmm.redshift.distributions.html">clmm.redshift.distributions module</a></li>
<li class="toctree-l3"><a class="reference internal" href="clmm.redshift.tools.html">clmm.redshift.tools module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="clmm.theory.html">clmm.theory package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="clmm.theory.ccl.html">clmm.theory.ccl module</a></li>
<li class="toctree-l3"><a class="reference internal" href="clmm.theory.cluster_toolkit.html">clmm.theory.cluster_toolkit module</a></li>
<li class="toctree-l3"><a class="reference internal" href="clmm.theory.func_layer.html">clmm.theory.func_layer module</a></li>
<li class="toctree-l3"><a class="reference internal" href="clmm.theory.generic.html">clmm.theory.generic module</a></li>
<li class="toctree-l3"><a class="reference internal" href="clmm.theory.numcosmo.html">clmm.theory.numcosmo module</a></li>
<li class="toctree-l3"><a class="reference internal" href="clmm.theory.parent_class.html">clmm.theory.parent_class module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="clmm.plotting.html">clmm.plotting package</a></li>
<li class="toctree-l2"><a class="reference internal" href="clmm.utils.html">clmm.utils package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="clmm.utils.beta_lens.html">clmm.utils.beta_lens module</a></li>
<li class="toctree-l3"><a class="reference internal" href="clmm.utils.boost.html">clmm.utils.boost module</a></li>
<li class="toctree-l3"><a class="reference internal" href="clmm.utils.ellipticity.html">clmm.utils.ellipticity module</a></li>
<li class="toctree-l3"><a class="reference internal" href="clmm.utils.statistic.html">clmm.utils.statistic module</a></li>
<li class="toctree-l3"><a class="reference internal" href="clmm.utils.units.html">clmm.utils.units module</a></li>
<li class="toctree-l3"><a class="reference internal" href="clmm.utils.validation.html">clmm.utils.validation module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="clmm.support.html">clmm.support package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="clmm.support.mock_data.html">clmm.support.mock_data module</a></li>
<li class="toctree-l3"><a class="reference internal" href="clmm.support.sampler.html">clmm.support.sampler module</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CLMM</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../api.html">API Documentation</a></li>
      <li class="breadcrumb-item active">clmm.galaxycluster module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/clmm.galaxycluster.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-clmm.galaxycluster">
<span id="clmm-galaxycluster-module"></span><h1>clmm.galaxycluster module<a class="headerlink" href="#module-clmm.galaxycluster" title="Link to this heading"></a></h1>
<p>&#64;file galaxycluster.py
The GalaxyCluster class</p>
<dl class="py class">
<dt class="sig sig-object py" id="clmm.galaxycluster.GalaxyCluster">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">clmm.galaxycluster.</span></span><span class="sig-name descname"><span class="pre">GalaxyCluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate_input</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/clmm/galaxycluster.html#GalaxyCluster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clmm.galaxycluster.GalaxyCluster" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Object that contains the galaxy cluster metadata and background galaxy data</p>
<dl class="field-list simple">
<dt class="field-odd">Variables<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unique_id</strong> (<em>int</em><em> or </em><em>string</em>) -- Unique identifier of the galaxy cluster</p></li>
<li><p><strong>ra</strong> (<em>float</em>) -- Right ascension of galaxy cluster center (in degrees)</p></li>
<li><p><strong>dec</strong> (<em>float</em>) -- Declination of galaxy cluster center (in degrees)</p></li>
<li><p><strong>z</strong> (<em>float</em>) -- Redshift of galaxy cluster center</p></li>
<li><p><strong>galcat</strong> (<a class="reference internal" href="clmm.gcdata.html#clmm.gcdata.GCData" title="clmm.gcdata.GCData"><em>GCData</em></a>) -- Table of background galaxy data containing at least galaxy_id, ra, dec, e1, e2, z</p></li>
<li><p><strong>validate_input</strong> (<em>bool</em>) -- Validade each input argument</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="clmm.galaxycluster.GalaxyCluster.add_critical_surface_density">
<span class="sig-name descname"><span class="pre">add_critical_surface_density</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cosmo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_pdz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/clmm/galaxycluster.html#GalaxyCluster.add_critical_surface_density"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clmm.galaxycluster.GalaxyCluster.add_critical_surface_density" title="Link to this definition"></a></dt>
<dd><p>Computes the critical surface density for each galaxy in <cite>galcat</cite>.
It only runs if input cosmo != galcat cosmo or if <cite>sigma_c</cite> not in <cite>galcat</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cosmo</strong> (<em>clmm.Cosmology object</em>) -- CLMM Cosmology object</p></li>
<li><p><strong>use_pdz</strong> (<em>bool</em>) -- Flag to specify the use of the photoz pdf. If <cite>False</cite> (default), <cite>sigma_c</cite> is computed
using the redshift point estimates of the <cite>z</cite> column of the <cite>galcat</cite> table. If <cite>True</cite>,
<cite>sigma_c</cite> is computed as 1/&lt;1/Sigma_crit&gt;, where the average is performed using
the individual galaxy redshift pdf. In that case, the <cite>galcat</cite> table should have
pzbins` and <cite>pzpdf</cite> columns.</p></li>
<li><p><strong>force</strong> (<em>bool</em>) -- Force recomputation of sigma_c.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clmm.galaxycluster.GalaxyCluster.compute_background_probability">
<span class="sig-name descname"><span class="pre">compute_background_probability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">use_pdz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_background_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'p_background'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/clmm/galaxycluster.html#GalaxyCluster.compute_background_probability"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clmm.galaxycluster.GalaxyCluster.compute_background_probability" title="Link to this definition"></a></dt>
<dd><p>Probability for being a background galaxy</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>use_pdz</strong> (<em>bool</em>) -- If True, computes the probability using the photoz pdf</p></li>
<li><p><strong>add</strong> (<em>bool</em>) -- If True, add background probability columns to the galcat table</p></li>
<li><p><strong>p_background_name</strong> (<em>str</em><em>, </em><em>optional</em>) -- User-defined name for the background probability column to be stored
in the galcat table (i.e., if add=True)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>p_background</strong> -- Probability for being a background galaxy</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clmm.galaxycluster.GalaxyCluster.compute_galaxy_weights">
<span class="sig-name descname"><span class="pre">compute_galaxy_weights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">use_pdz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_shape_noise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape_component1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'e1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape_component2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'e2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_shape_error</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape_component1_err</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'e1_err'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape_component2_err</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'e2_err'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'w_ls'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cosmo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_deltasigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/clmm/galaxycluster.html#GalaxyCluster.compute_galaxy_weights"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clmm.galaxycluster.GalaxyCluster.compute_galaxy_weights" title="Link to this definition"></a></dt>
<dd><p>Computes the individual lens-source pair weights</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>use_pdz</strong> (<em>bool</em>) -- True for computing photometric weights</p></li>
<li><p><strong>use_shape_noise</strong> (<em>bool</em>) -- True for considering shapenoise in the weight computation</p></li>
<li><p><strong>shape_component1</strong> (<em>string</em>) -- column name : The measured shear (or reduced shear or ellipticity)
of the source galaxies</p></li>
<li><p><strong>shape_component2</strong> (<em>array</em>) -- column name : The measured shear (or reduced shear or ellipticity)
of the source galaxies</p></li>
<li><p><strong>use_shape_error</strong> (<em>bool</em>) -- True for considering measured shape error in the weight computation</p></li>
<li><p><strong>shape_component1_err</strong> (<em>array</em>) -- column name : The measurement error on the 1st-component of ellipticity
of the source galaxies</p></li>
<li><p><strong>shape_component2_err</strong> (<em>array</em>) -- column name : The measurement error on the 2nd-component of ellipticity
of the source galaxies</p></li>
<li><p><strong>weight_name</strong> (<em>string</em>) -- Name of the new column for the weak lensing weights in the galcat table</p></li>
<li><p><strong>cosmo</strong> (<em>clmm.Comology object</em><em>, </em><em>None</em>) -- CLMM Cosmology object.</p></li>
<li><p><strong>is_deltasigma</strong> (<em>bool</em>) -- Indicates whether it is the excess surface density or the tangential shear</p></li>
<li><p><strong>add</strong> (<em>bool</em>) -- If True, add weight column to the galcat table</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>w_ls</strong> -- the individual lens source pair weights</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clmm.galaxycluster.GalaxyCluster.compute_tangential_and_cross_components">
<span class="sig-name descname"><span class="pre">compute_tangential_and_cross_components</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape_component1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'e1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape_component2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'e2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tan_component</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'et'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cross_component</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ex'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'curve'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_deltasigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_pdz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cosmo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/clmm/galaxycluster.html#GalaxyCluster.compute_tangential_and_cross_components"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clmm.galaxycluster.GalaxyCluster.compute_tangential_and_cross_components" title="Link to this definition"></a></dt>
<dd><p>Adds a tangential- and cross- components for shear or ellipticity to self</p>
<p>Calls <cite>clmm.dataops.compute_tangential_and_cross_components</cite> with the following arguments:
ra_lens: <cite>cluster</cite> Ra
dec_lens: <cite>cluster</cite> Dec
ra_source: <cite>galcat</cite> Ra
dec_source: <cite>galcat</cite> Dec
shear1: <cite>galcat</cite> shape_component1
shear2: <cite>galcat</cite> shape_component2
geometry: <cite>input</cite> geometry
is_deltasigma: <cite>input</cite> is_deltasigma</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape_component1</strong> (<em>string</em><em>, </em><em>optional</em>) -- Name of the column in the <cite>galcat</cite> astropy table of the cluster object that contains
the shape or shear measurement along the first axis. Default: <cite>e1</cite></p></li>
<li><p><strong>shape_component1</strong> -- Name of the column in the <cite>galcat</cite> astropy table of the cluster object that contains
the shape or shear measurement along the second axis. Default: <cite>e2</cite></p></li>
<li><p><strong>tan_component</strong> (<em>string</em><em>, </em><em>optional</em>) -- Name of the column to be added to the <cite>galcat</cite> astropy table that will contain the
tangential component computed from columns <cite>shape_component1</cite> and <cite>shape_component2</cite>.
Default: <cite>et</cite></p></li>
<li><p><strong>cross_component</strong> (<em>string</em><em>, </em><em>optional</em>) -- Name of the column to be added to the <cite>galcat</cite> astropy table that will contain the
cross component computed from columns <cite>shape_component1</cite> and <cite>shape_component2</cite>.
Default: <cite>ex</cite></p></li>
<li><p><strong>geometry</strong> (<em>str</em><em>, </em><em>optional</em>) -- Sky geometry to compute angular separation.
Options are curve (uses astropy) or flat.</p></li>
<li><p><strong>is_deltasigma</strong> (<em>bool</em>) -- If <cite>True</cite>, the tangential and cross components returned are multiplied by Sigma_crit.
Results in units of <span class="math notranslate nohighlight">\(M_\odot\ Mpc^{-2}\)</span></p></li>
<li><p><strong>cosmo</strong> (<em>astropy cosmology object</em>) -- Specifying a cosmology is required if <cite>is_deltasigma</cite> is True</p></li>
<li><p><strong>add</strong> (<em>bool</em>) -- If <cite>True</cite>, adds the computed shears to the <cite>galcat</cite></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>angsep</strong> (<em>array_like</em>) -- Angular separation between lens and each source galaxy in radians</p></li>
<li><p><strong>tangential_component</strong> (<em>array_like</em>) -- Tangential shear (or assimilated quantity) for each source galaxy</p></li>
<li><p><strong>cross_component</strong> (<em>array_like</em>) -- Cross shear (or assimilated quantity) for each source galaxy</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clmm.galaxycluster.GalaxyCluster.draw_gal_z_from_pdz">
<span class="sig-name descname"><span class="pre">draw_gal_z_from_pdz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zcol_out</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'z'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nobj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/clmm/galaxycluster.html#GalaxyCluster.draw_gal_z_from_pdz"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clmm.galaxycluster.GalaxyCluster.draw_gal_z_from_pdz" title="Link to this definition"></a></dt>
<dd><p>Draw random redshifts from the photoz pdf for each galaxy
of the galcat table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>zcol_out</strong> (<em>string</em>) -- Name of the column of the galcat table where the random
redshifts are to be stored. Default='z'</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em>) -- If True and if zcol_out already exists in the table, the column
will be overwritten by the new random values</p></li>
<li><p><strong>nobj</strong> (<em>int</em><em>, </em><em>optional</em>) -- Number of random samples to generate. Default is 1.</p></li>
<li><p><strong>xmin</strong> (<em>float</em>) -- Lower bound to draw redshift. Default is the min(x_tab)</p></li>
<li><p><strong>xmax</strong> (<em>float</em>) -- Upper bound to draw redshift. Default is the max(x_tab)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>samples</strong> -- Random points following the pdf_tab distribution</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clmm.galaxycluster.GalaxyCluster.load">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/clmm/galaxycluster.html#GalaxyCluster.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clmm.galaxycluster.GalaxyCluster.load" title="Link to this definition"></a></dt>
<dd><p>Loads GalaxyCluster object to filename using Pickle</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clmm.galaxycluster.GalaxyCluster.make_radial_profile">
<span class="sig-name descname"><span class="pre">make_radial_profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bin_units</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ste'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cosmo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tan_component_in</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'et'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cross_component_in</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ex'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tan_component_out</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gt'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cross_component_out</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gx'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tan_component_in_err</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cross_component_in_err</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_empty_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gal_ids_in_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'profile'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights_in</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'w_ls'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights_out</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'W_l'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/clmm/galaxycluster.html#GalaxyCluster.make_radial_profile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clmm.galaxycluster.GalaxyCluster.make_radial_profile" title="Link to this definition"></a></dt>
<dd><p>Compute the shear or ellipticity profile of the cluster</p>
<p>We assume that the cluster object contains information on the cross and
tangential shears or ellipticities and angular separation of the source galaxies</p>
<p>Calls <cite>clmm.dataops.make_radial_profile</cite> with the following arguments:
components: <cite>galcat</cite> components (tan_component_in, cross_component_in, z)
angsep: <cite>galcat</cite> theta
angsep_units: 'radians'
bin_units: <cite>input</cite> bin_units
bins: <cite>input</cite> bins
include_empty_bins: <cite>input</cite> include_empty_bins
cosmo: <cite>input</cite> cosmo
z_lens: cluster z</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bin_units</strong> (<em>str</em>) -- Units to use for the radial bins of the shear profile
Allowed Options = [&quot;radians&quot;, &quot;deg&quot;, &quot;arcmin&quot;, &quot;arcsec&quot;, &quot;kpc&quot;, &quot;Mpc&quot;]
(letter case independent)</p></li>
<li><p><strong>bins</strong> (<em>array_like</em><em>, </em><em>optional</em>) -- User defined bins to use for the shear profile. If a list is provided, use that as
the bin edges. If a scalar is provided, create that many equally spaced bins between
the minimum and maximum angular separations in bin_units. If nothing is provided,
default to 10 equally spaced bins.</p></li>
<li><p><strong>error_model</strong> (<em>str</em><em>, </em><em>optional</em>) -- <p>Statistical error model to use for y uncertainties. (letter case independent)</p>
<blockquote>
<div><ul>
<li><p><cite>ste</cite> - Standard error [=std/sqrt(n) in unweighted computation] (Default).</p></li>
<li><p><cite>std</cite> - Standard deviation.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>cosmo</strong> (<em>clmm.Comology object</em><em>, </em><em>None</em>) -- CLMM Cosmology object, used to convert angular separations to physical distances</p></li>
<li><p><strong>tan_component_in</strong> (<em>string</em><em>, </em><em>optional</em>) -- Name of the tangential component column in <cite>galcat</cite> to be binned.
Default: 'et'</p></li>
<li><p><strong>cross_component_in</strong> (<em>string</em><em>, </em><em>optional</em>) -- Name of the cross component column in <cite>galcat</cite> to be binned.
Default: 'ex'</p></li>
<li><p><strong>tan_component_out</strong> (<em>string</em><em>, </em><em>optional</em>) -- Name of the tangetial component binned column to be added in profile table.
Default: 'gt'</p></li>
<li><p><strong>cross_component_out</strong> (<em>string</em><em>, </em><em>optional</em>) -- Name of the cross component binned profile column to be added in profile table.
Default: 'gx'</p></li>
<li><p><strong>tan_component_in_err</strong> (<em>string</em><em>, </em><em>None</em><em>, </em><em>optional</em>) -- Name of the tangential component error column in <cite>galcat</cite> to be binned.
Default: None</p></li>
<li><p><strong>cross_component_in_err</strong> (<em>string</em><em>, </em><em>None</em><em>, </em><em>optional</em>) -- Name of the cross component error column in <cite>galcat</cite> to be binned.
Default: None</p></li>
<li><p><strong>include_empty_bins</strong> (<em>bool</em><em>, </em><em>optional</em>) -- Also include empty bins in the returned table</p></li>
<li><p><strong>gal_ids_in_bins</strong> (<em>bool</em><em>, </em><em>optional</em>) -- Also include the list of galaxies ID belonging to each bin in the returned table</p></li>
<li><p><strong>add</strong> (<em>bool</em><em>, </em><em>optional</em>) -- Attach the profile to the cluster object</p></li>
<li><p><strong>table_name</strong> (<em>str</em><em>, </em><em>optional</em>) -- Name of the profile table to be add as <cite>cluster.table_name</cite>.
Default 'profile'</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>optional</em>) -- Overwrite profile table.
Default True</p></li>
<li><p><strong>use_weights</strong> (<em>bool</em><em>, </em><em>optional</em>) -- If True, use the column <cite>weights_in</cite> in <cite>galcat</cite> as the weights
Default: False</p></li>
<li><p><strong>weights_in</strong> (<em>str</em><em>, </em><em>optional</em>) -- Name of the weights column in <cite>galcat</cite>
Default: 'w_ls'</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>profile</strong> -- Output table containing the radius grid points, the tangential and cross shear
profiles on that grid, and the errors in the two shear profiles. The errors are
defined as the standard errors in each bin.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="clmm.gcdata.html#clmm.gcdata.GCData" title="clmm.gcdata.GCData">GCData</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clmm.galaxycluster.GalaxyCluster.plot_profiles">
<span class="sig-name descname"><span class="pre">plot_profiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tangential_component</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gt'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tangential_component_error</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gt_err'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cross_component</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gx'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cross_component_error</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gx_err'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'profile'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xscale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yscale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/clmm/galaxycluster.html#GalaxyCluster.plot_profiles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clmm.galaxycluster.GalaxyCluster.plot_profiles" title="Link to this definition"></a></dt>
<dd><p>Plot shear profiles using <cite>plotting.plot_profiles</cite> function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tangential_component</strong> (<em>str</em><em>, </em><em>optional</em>) -- Name of the column in the galcat Table corresponding to the tangential component of
the shear or reduced shear (Delta Sigma not yet implemented). Default: 'gt'</p></li>
<li><p><strong>tangential_component_error</strong> (<em>str</em><em>, </em><em>optional</em>) -- Name of the column in the galcat Table corresponding to the uncertainty in tangential
component of the shear or reduced shear. Default: 'gt_err'</p></li>
<li><p><strong>cross_component</strong> (<em>str</em><em>, </em><em>optional</em>) -- Name of the column in the galcat Table corresponding to the cross component of the
shear or reduced shear. Default: 'gx'</p></li>
<li><p><strong>cross_component_error</strong> (<em>str</em><em>, </em><em>optional</em>) -- Name of the column in the galcat Table corresponding to the uncertainty in the cross
component of the shear or reduced shear. Default: 'gx_err'</p></li>
<li><p><strong>table_name</strong> (<em>str</em><em>, </em><em>optional</em>) -- Name of the GalaxyCluster() <cite>.profile</cite> attribute. Default: 'profile'</p></li>
<li><p><strong>xscale</strong> -- matplotlib.pyplot.xscale parameter to set x-axis scale (e.g. to logarithmic axis)</p></li>
<li><p><strong>yscale</strong> -- matplotlib.pyplot.yscale parameter to set y-axis scale (e.g. to logarithmic axis)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>fig</em> -- The matplotlib figure object that has been plotted to.</p></li>
<li><p><em>axes</em> -- The matplotlib axes object that has been plotted to.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clmm.galaxycluster.GalaxyCluster.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/clmm/galaxycluster.html#GalaxyCluster.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clmm.galaxycluster.GalaxyCluster.save" title="Link to this definition"></a></dt>
<dd><p>Saves GalaxyCluster object to filename using Pickle</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clmm.galaxycluster.GalaxyCluster.set_ra_lower">
<span class="sig-name descname"><span class="pre">set_ra_lower</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra_low</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/clmm/galaxycluster.html#GalaxyCluster.set_ra_lower"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clmm.galaxycluster.GalaxyCluster.set_ra_lower" title="Link to this definition"></a></dt>
<dd><p>Set window of values for cluster and galcat RA to [ra_low, ra_low+360[</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ra_low</strong> (<em>float</em>) -- Lower value for RA range, can be -180 or 0</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018-2021, LSST DESC CLMM Contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>